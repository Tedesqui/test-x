<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="pageTitle">Receba as respostas das questÃµes da sua prova!!!</title>
    <style>
        body, html { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #121212; color: white; }
        .hidden-on-load { visibility: hidden; }
        .container { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; text-align: center; padding: 20px; box-sizing: border-box; }
        .view { display: none; flex-direction: column; align-items: center; width: 100%; max-width: 420px; margin-top: -250px; }
        .view.active { display: flex; }
        #start-btn { width: 100%; color: white; font-weight: bold; font-size: 18px; padding: 0.75rem 1rem; border: none; border-radius: 0.5rem; cursor: pointer; transition: background-color 0.2s; margin-top: 1.5rem; background-color: #22c55e; }
        #start-btn:hover:not(:disabled) { background-color: #16a34a; }
        #start-btn:disabled { background-color: #555; cursor: wait; }
    </style>
</head>
<body class="hidden-on-load">
    <div class="container">
        <div id="welcome-view" class="view active">
            <h2 data-i18n="headline">ğŸ”’ Acesso por 1 Semana Ã  CorreÃ§Ã£o de Provas</h2>
            <p data-i18n="subheadline" style="font-size: 1.1em; line-height: 1.5;">Realize o pagamento de <strong data-i18n="price">R$ 14,90</strong> para liberar o acesso...</p>
            <button id="start-btn" data-i18n="paymentButton">CLIQUE AQUI PARA PAGAR</button>
        </div>
    </div>

    <script>
        const translations = {
            "pt-br": { pageTitle: "Receba as respostas das questÃµes da sua prova!!!", headline: "ğŸ”’ Acesso por 1 Semana Ã  CorreÃ§Ã£o de Provas", subheadline: 'Realize o pagamento de <strong>{price}</strong> para liberar o acesso. ApÃ³s o pagamento, retorne e dÃª permissÃ£o para o site usar sua cÃ¢mera. Aponte para as questÃµes, clique em <strong>{captureAction}</strong> e em seguida em <strong>{answerAction}</strong>.', price: 'R$ 14,90', captureAction: 'â€œClique para Corrigirâ€', answerAction: 'â€œObter Respostaâ€', paymentButton: "CLIQUE AQUI PARA PAGAR", loadingCheckout: "Aguarde, gerando checkout...", checkoutError: "Erro ao gerar link de pagamento.", paymentCheck: "Pagamento aprovado! Redirecionando...", paymentCheckError: "Ocorreu um problema ao verificar seu pagamento. Por favor, recarregue a pÃ¡gina." },
            "en": { pageTitle: "Get Answers for Your Test Questions!", headline: "ğŸ”’ 1-Week Access to AI Proofreader", subheadline: 'Make the payment of <strong>{price}</strong> to unlock access. After payment, return to the site and grant camera permission. Point the camera at the questions, click on <strong>{captureAction}</strong> and then on <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œClick to Correctâ€', answerAction: 'â€œGet Answerâ€', paymentButton: "CLICK HERE TO PAY", loadingCheckout: "Please wait, generating checkout...", checkoutError: "Error generating payment link.", paymentCheck: "Payment approved! Redirecting...", paymentCheckError: "There was a problem verifying your payment. Please reload the page." },
            "es": { pageTitle: "Â¡Obtenga Respuestas para sus Preguntas de Examen!", headline: "ğŸ”’ Acceso de 1 Semana al Corrector IA", subheadline: 'Realice el pago de <strong>{price}</strong> para desbloquear el acceso. DespuÃ©s del pago, regrese al sitio y otorgue permiso a la cÃ¡mara. Apunte la cÃ¡mara a las preguntas, haga clic en <strong>{captureAction}</strong> y luego en <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œClic para Corregirâ€', answerAction: 'â€œObtener Respuestaâ€', paymentButton: "HAGA CLIC AQUÃ PARA PAGAR", loadingCheckout: "Por favor espere, generando checkout...", checkoutError: "Error al generar el enlace de pago.", paymentCheck: "Â¡Pago aprobado! Redirigiendo...", paymentCheckError: "Hubo un problema al verificar su pago. Por favor, recargue la pÃ¡gina." },
            "it": { pageTitle: "Ottieni Risposte per le Tue Domande d'Esame!", headline: "ğŸ”’ Accesso di 1 Settimana al Correttore AI", subheadline: 'Effettua il pagamento di <strong>{price}</strong> per sbloccare l\'accesso. Dopo il pagamento, torna al sito e concedi il permesso alla fotocamera. Punta la fotocamera sulle domande, fai clic su <strong>{captureAction}</strong> e poi su <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œClicca per Correggereâ€', answerAction: 'â€œOttieni Rispostaâ€', paymentButton: "CLICCA QUI PER PAGARE", loadingCheckout: "Attendere, generazione del checkout in corso...", checkoutError: "Errore durante la generazione del link di pagamento.", paymentCheck: "Pagamento approvato! Reindirizzamento in corso...", paymentCheckError: "Si Ã¨ verificato un problema durante la verifica del pagamento. Ricarica la pagina." },
            "fr": { pageTitle: "Obtenez des RÃ©ponses Ã  vos Questions d'Examen !", headline: "ğŸ”’ AccÃ¨s d'une Semaine au Correcteur IA", subheadline: 'Effectuez le paiement de <strong>{price}</strong> pour dÃ©bloquer l\'accÃ¨s. AprÃ¨s le paiement, revenez sur le site et autorisez l\'accÃ¨s Ã  la camÃ©ra. Pointez la camÃ©ra sur les questions, cliquez sur <strong>{captureAction}</strong> puis sur <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œCliquez pour Corrigerâ€', answerAction: 'â€œObtenir la RÃ©ponseâ€', paymentButton: "CLIQUEZ ICI POUR PAYER", loadingCheckout: "Veuillez patienter, gÃ©nÃ©ration du paiement en cours...", checkoutError: "Erreur lors de la gÃ©nÃ©ration du lien de paiement.", paymentCheck: "Paiement approuvÃ© ! Redirection en cours...", paymentCheckError: "Un problÃ¨me est survenu lors de la vÃ©rification de votre paiement. Veuillez recharger la page." },
            "de": { pageTitle: "Erhalten Sie Antworten auf Ihre Testfragen!", headline: "ğŸ”’ 1 Woche Zugang zum KI-Korrektor", subheadline: 'Zahlen Sie <strong>{price}</strong>, um den Zugang freizuschalten. Kehren Sie nach der Zahlung zur Website zurÃ¼ck und erteilen Sie die Kameragenehmigung. Richten Sie die Kamera auf die Fragen, klicken Sie auf <strong>{captureAction}</strong> und dann auf <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œKlicken zum Korrigierenâ€', answerAction: 'â€œAntwort erhaltenâ€', paymentButton: "HIER KLICKEN ZUM BEZAHLEN", loadingCheckout: "Bitte warten, Checkout wird erstellt...", checkoutError: "Fehler beim Erstellen des Zahlungslinks.", paymentCheck: "Zahlung genehmigt! Weiterleitung...", paymentCheckError: "Bei der ÃœberprÃ¼fung Ihrer Zahlung ist ein Problem aufgetreten. Bitte laden Sie die Seite neu." },
            "ru": { pageTitle: "ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ½Ğ° Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ñ‚ĞµÑÑ‚Ğ°!", headline: "ğŸ”’ Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ½Ğ° 1 Ğ½ĞµĞ´ĞµĞ»Ñ Ğº Ğ˜Ğ˜-ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ñƒ", subheadline: 'ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ Ğ² Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğµ <strong>{price}</strong>, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ñ€Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿. ĞŸĞ¾ÑĞ»Ğµ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹ Ğ²ĞµÑ€Ğ½Ğ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° ÑĞ°Ğ¹Ñ‚ Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñ‹. ĞĞ°Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñƒ Ğ½Ğ° Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹, Ğ½Ğ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ <strong>{captureAction}</strong>, Ğ° Ğ·Ğ°Ñ‚ĞµĞ¼ <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒâ€', answerAction: 'â€œĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ²ĞµÑ‚â€', paymentButton: "ĞĞĞ–ĞœĞ˜Ğ¢Ğ• Ğ—Ğ”Ğ•Ğ¡Ğ¬, Ğ§Ğ¢ĞĞ‘Ğ« ĞĞŸĞ›ĞĞ¢Ğ˜Ğ¢Ğ¬", loadingCheckout: "ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸Ñ‚Ğµ, Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ ĞºĞ°ÑÑĞ°...", checkoutError: "ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ ÑÑÑ‹Ğ»ĞºĞ¸ Ğ½Ğ° Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñƒ.", paymentCheck: "ĞŸĞ»Ğ°Ñ‚ĞµĞ¶ Ğ¾Ğ´Ğ¾Ğ±Ñ€ĞµĞ½! ĞŸĞµÑ€ĞµĞ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ...", paymentCheckError: "Ğ’Ğ¾Ğ·Ğ½Ğ¸ĞºĞ»Ğ° Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ğ¿Ñ€Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞµ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ°. ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ." },
            "ja": { pageTitle: "ãƒ†ã‚¹ãƒˆã®è³ªå•ã¸ã®å›ç­”ã‚’å…¥æ‰‹ï¼", headline: "ğŸ”’ AIæ ¡æ­£ãƒ„ãƒ¼ãƒ«ã¸ã®1é€±é–“ã‚¢ã‚¯ã‚»ã‚¹", subheadline: '<strong>{price}</strong>ã‚’æ”¯æ‰•ã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã‚¢ãƒ³ãƒ­ãƒƒã‚¯ã—ã¾ã™ã€‚æ”¯æ‰•ã„å¾Œã€ã‚µã‚¤ãƒˆã«æˆ»ã£ã¦ã‚«ãƒ¡ãƒ©ã®è¨±å¯ã‚’ä¸ãˆã¦ãã ã•ã„ã€‚è³ªå•ã«ã‚«ãƒ¡ãƒ©ã‚’å‘ã‘ã€<strong>{captureAction}</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€æ¬¡ã«<strong>{answerAction}</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚', price: '$3.00 USD', captureAction: 'â€œã‚¯ãƒªãƒƒã‚¯ã—ã¦ä¿®æ­£â€', answerAction: 'â€œå›ç­”ã‚’å¾—ã‚‹â€', paymentButton: "ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ”¯æ‰•ã†", loadingCheckout: "ãŠå¾…ã¡ãã ã•ã„ã€ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã‚’ç”Ÿæˆä¸­ã§ã™...", checkoutError: "æ”¯æ‰•ã„ãƒªãƒ³ã‚¯ã®ç”Ÿæˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚", paymentCheck: "æ”¯æ‰•ã„ãŒæ‰¿èªã•ã‚Œã¾ã—ãŸï¼ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã—ã¦ã„ã¾ã™...", paymentCheckError: "æ”¯æ‰•ã„ã®ç¢ºèªä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚" },
            "ko": { pageTitle: "ì‹œí—˜ ë¬¸ì œì— ëŒ€í•œ ë‹µë³€ì„ ë°›ìœ¼ì„¸ìš”!", headline: "ğŸ”’ AI êµì •ê¸°ì— 1ì£¼ì¼ ì•¡ì„¸ìŠ¤", subheadline: '<strong>{price}</strong>ë¥¼ ê²°ì œí•˜ì—¬ ì•¡ì„¸ìŠ¤ë¥¼ ì ê¸ˆ í•´ì œí•˜ì„¸ìš”. ê²°ì œ í›„ ì‚¬ì´íŠ¸ë¡œ ëŒì•„ì™€ ì¹´ë©”ë¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ì„¸ìš”. ì§ˆë¬¸ì— ì¹´ë©”ë¼ë¥¼ ë§ì¶”ê³  <strong>{captureAction}</strong>ì„ í´ë¦­í•œ ë‹¤ìŒ <strong>{answerAction}</strong>ì„ í´ë¦­í•˜ì„¸ìš”.', price: '$3.00 USD', captureAction: 'â€œí´ë¦­í•˜ì—¬ ìˆ˜ì •â€', answerAction: 'â€œë‹µë³€ ë°›ê¸°â€', paymentButton: "ê²°ì œí•˜ë ¤ë©´ ì—¬ê¸°ë¥¼ í´ë¦­í•˜ì„¸ìš”", loadingCheckout: "ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”, ì²´í¬ì•„ì›ƒ ìƒì„± ì¤‘...", checkoutError: "ê²°ì œ ë§í¬ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.", paymentCheck: "ê²°ì œê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤! ë¦¬ë””ë ‰ì…˜ ì¤‘...", paymentCheckError: "ê²°ì œ í™•ì¸ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì„¸ìš”." },
            "zh": { pageTitle: "è·å–æ‚¨çš„è€ƒè¯•é—®é¢˜çš„ç­”æ¡ˆï¼", headline: "ğŸ”’ AIæ ¡å¯¹å™¨1å‘¨è®¿é—®æƒé™", subheadline: 'æ”¯ä»˜<strong>{price}</strong>ä»¥è§£é”è®¿é—®æƒé™ã€‚ä»˜æ¬¾åï¼Œè¿”å›ç½‘ç«™å¹¶æˆäºˆç›¸æœºæƒé™ã€‚å°†ç›¸æœºå¯¹å‡†é—®é¢˜ï¼Œå•å‡»<strong>{captureAction}</strong>ï¼Œç„¶åå•å‡»<strong>{answerAction}</strong>ã€‚', price: '$3.00 USD', captureAction: 'â€œç‚¹å‡»æ›´æ­£â€', answerAction: 'â€œè·å–ç­”æ¡ˆâ€', paymentButton: "ç‚¹å‡»æ­¤å¤„ä»˜æ¬¾", loadingCheckout: "è¯·ç¨å€™ï¼Œæ­£åœ¨ç”Ÿæˆç»“è´¦...", checkoutError: "ç”Ÿæˆä»˜æ¬¾é“¾æ¥æ—¶å‡ºé”™ã€‚", paymentCheck: "ä»˜æ¬¾å·²æ‰¹å‡†ï¼æ­£åœ¨é‡å®šå‘...", paymentCheckError: "éªŒè¯æ‚¨çš„ä»˜æ¬¾æ—¶å‡ºç°é—®é¢˜ã€‚è¯·é‡æ–°åŠ è½½é¡µé¢ã€‚" },
            "hi": { pageTitle: "à¤…à¤ªà¤¨à¥‡ à¤ªà¤°à¥€à¤•à¥à¤·à¤¾ à¤ªà¥à¤°à¤¶à¥à¤¨à¥‹à¤‚ à¤•à¥‡ à¤‰à¤¤à¥à¤¤à¤° à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚!", headline: "ğŸ”’ à¤à¤†à¤ˆ à¤ªà¥à¤°à¥‚à¤«à¤¼à¤°à¥€à¤¡à¤° à¤•à¥‡ à¤²à¤¿à¤ 1-à¤¸à¤ªà¥à¤¤à¤¾à¤¹ à¤•à¤¾ à¤à¤•à¥à¤¸à¥‡à¤¸", subheadline: 'à¤à¤•à¥à¤¸à¥‡à¤¸ à¤…à¤¨à¤²à¥‰à¤• à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ <strong>{price}</strong> à¤•à¤¾ à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¤°à¥‡à¤‚à¥¤ à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¥‡ à¤¬à¤¾à¤¦, à¤¸à¤¾à¤‡à¤Ÿ à¤ªà¤° à¤µà¤¾à¤ªà¤¸ à¤†à¤à¤‚ à¤”à¤° à¤•à¥ˆà¤®à¤°à¤¾ à¤…à¤¨à¥à¤®à¤¤à¤¿ à¤¦à¥‡à¤‚à¥¤ à¤•à¥ˆà¤®à¤°à¥‡ à¤•à¥‹ à¤ªà¥à¤°à¤¶à¥à¤¨à¥‹à¤‚ à¤ªà¤° à¤‡à¤‚à¤—à¤¿à¤¤ à¤•à¤°à¥‡à¤‚, <strong>{captureAction}</strong> à¤ªà¤° à¤•à¥à¤²à¤¿à¤• à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤«à¤¿à¤° <strong>{answerAction}</strong> à¤ªà¤° à¤•à¥à¤²à¤¿à¤• à¤•à¤°à¥‡à¤‚à¥¤', price: '$3.00 USD', captureAction: 'â€œà¤¸à¤¹à¥€ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤•à¥à¤²à¤¿à¤• à¤•à¤°à¥‡à¤‚â€', answerAction: 'â€œà¤‰à¤¤à¥à¤¤à¤° à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚â€', paymentButton: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤¯à¤¹à¤¾à¤‚ à¤•à¥à¤²à¤¿à¤• à¤•à¤°à¥‡à¤‚", loadingCheckout: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾ à¤•à¤°à¥‡à¤‚, à¤šà¥‡à¤•à¤†à¤‰à¤Ÿ à¤‰à¤¤à¥à¤ªà¤¨à¥à¤¨ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...", checkoutError: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤²à¤¿à¤‚à¤• à¤‰à¤¤à¥à¤ªà¤¨à¥à¤¨ à¤•à¤°à¤¨à¥‡ à¤®à¥‡à¤‚ à¤¤à¥à¤°à¥à¤Ÿà¤¿à¥¤", paymentCheck: "à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤¸à¥à¤µà¥€à¤•à¥ƒà¤¤! à¤°à¥€à¤¡à¤¾à¤¯à¤°à¥‡à¤•à¥à¤Ÿ à¤•à¤¿à¤¯à¤¾ à¤œà¤¾ à¤°à¤¹à¤¾ à¤¹à¥ˆ...", paymentCheckError: "à¤†à¤ªà¤•à¥‡ à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¥‹ à¤¸à¤¤à¥à¤¯à¤¾à¤ªà¤¿à¤¤ à¤•à¤°à¤¨à¥‡ à¤®à¥‡à¤‚ à¤•à¥‹à¤ˆ à¤¸à¤®à¤¸à¥à¤¯à¤¾ à¤¹à¥à¤ˆà¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¥ƒà¤·à¥à¤  à¤•à¥‹ à¤ªà¥à¤¨à¤ƒ à¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚à¥¤" },
            "fil": { pageTitle: "Kumuha ng mga Sagot para sa Iyong mga Tanong sa Pagsusulit!", headline: "ğŸ”’ 1-Linggong Access sa AI Proofreader", subheadline: 'Gawin ang pagbabayad ng <strong>{price}</strong> para i-unlock ang access. Pagkatapos magbayad, bumalik sa site at magbigay ng pahintulot sa camera. Itutok ang camera sa mga tanong, i-click ang <strong>{captureAction}</strong> at pagkatapos ay ang <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œI-click para Itamaâ€', answerAction: 'â€œKumuha ng Sagotâ€', paymentButton: "I-CLICK DITO PARA MAGBAYAD", loadingCheckout: "Mangyaring maghintay, gumagawa ng checkout...", checkoutError: "Error sa pagbuo ng link ng pagbabayad.", paymentCheck: "Aprubado ang pagbabayad! Nagre-redirect...", paymentCheckError: "Nagkaroon ng problema sa pag-verify ng iyong bayad. Paki-reload ang pahina." },
            "sv": { pageTitle: "FÃ¥ svar pÃ¥ dina provfrÃ¥gor!", headline: "ğŸ”’ 1 veckas tillgÃ¥ng till AI-korrekturlÃ¤sare", subheadline: 'Betala <strong>{price}</strong> fÃ¶r att lÃ¥sa upp tillgÃ¥ng. Efter betalning, Ã¥tervÃ¤nd till webbplatsen och ge kamerabehÃ¶righet. Rikta kameran mot frÃ¥gorna, klicka pÃ¥ <strong>{captureAction}</strong> och sedan pÃ¥ <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œKlicka fÃ¶r att korrigeraâ€', answerAction: 'â€œFÃ¥ svarâ€', paymentButton: "KLICKA HÃ„R FÃ–R ATT BETALA", loadingCheckout: "VÃ¤nta, skapar kassa...", checkoutError: "Fel vid skapande av betalningslÃ¤nk.", paymentCheck: "Betalning godkÃ¤nd! Omdirigerar...", paymentCheckError: "Ett problem uppstod vid verifiering av din betalning. Ladda om sidan." },
            "pl": { pageTitle: "Otrzymaj odpowiedzi na pytania testowe!", headline: "ğŸ”’ 1-tygodniowy dostÄ™p do korektora AI", subheadline: 'ZapÅ‚aÄ‡ <strong>{price}</strong>, aby odblokowaÄ‡ dostÄ™p. Po dokonaniu pÅ‚atnoÅ›ci wrÃ³Ä‡ na stronÄ™ i zezwÃ³l na uÅ¼ycie kamery. Skieruj aparat na pytania, kliknij <strong>{captureAction}</strong>, a nastÄ™pnie <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œKliknij, aby poprawiÄ‡â€', answerAction: 'â€œUzyskaj odpowiedÅºâ€', paymentButton: "KLIKNIJ TUTAJ, ABY ZAPÅACIÄ†", loadingCheckout: "ProszÄ™ czekaÄ‡, generowanie pÅ‚atnoÅ›ci...", checkoutError: "BÅ‚Ä…d podczas generowania linku do pÅ‚atnoÅ›ci.", paymentCheck: "PÅ‚atnoÅ›Ä‡ zatwierdzona! Przekierowywanie...", paymentCheckError: "WystÄ…piÅ‚ problem podczas weryfikacji pÅ‚atnoÅ›ci. OdÅ›wieÅ¼ stronÄ™." },
            "bn": { pageTitle: "à¦†à¦ªà¦¨à¦¾à¦° à¦ªà¦°à§€à¦•à§à¦·à¦¾à¦° à¦ªà§à¦°à¦¶à§à¦¨à§‡à¦° à¦‰à¦¤à§à¦¤à¦° à¦ªà¦¾à¦¨!", headline: "ğŸ”’ à¦à¦†à¦‡ à¦ªà§à¦°à§à¦«à¦°à¦¿à¦¡à¦¾à¦°à§‡ à§§ à¦¸à¦ªà§à¦¤à¦¾à¦¹à§‡à¦° à¦…à§à¦¯à¦¾à¦•à§à¦¸à§‡à¦¸", subheadline: 'à¦…à§à¦¯à¦¾à¦•à§à¦¸à§‡à¦¸ à¦†à¦¨à¦²à¦• à¦•à¦°à¦¤à§‡ <strong>{price}</strong> à¦ªà§à¦°à¦¦à¦¾à¦¨ à¦•à¦°à§à¦¨à¥¤ à¦…à¦°à§à¦¥à¦ªà§à¦°à¦¦à¦¾à¦¨à§‡à¦° à¦ªà¦°à§‡, à¦¸à¦¾à¦‡à¦Ÿà§‡ à¦«à¦¿à¦°à§‡ à¦†à¦¸à§à¦¨ à¦à¦¬à¦‚ à¦•à§à¦¯à¦¾à¦®à§‡à¦°à¦¾ à¦…à¦¨à§à¦®à¦¤à¦¿ à¦¦à¦¿à¦¨à¥¤ à¦ªà§à¦°à¦¶à§à¦¨à¦—à§à¦²à¦¿à¦° à¦¦à¦¿à¦•à§‡ à¦•à§à¦¯à¦¾à¦®à§‡à¦°à¦¾ à¦¨à¦¿à¦°à§à¦¦à§‡à¦¶ à¦•à¦°à§à¦¨, <strong>{captureAction}</strong> à¦•à§à¦²à¦¿à¦• à¦•à¦°à§à¦¨ à¦à¦¬à¦‚ à¦¤à¦¾à¦°à¦ªà¦°à§‡ <strong>{answerAction}</strong> à¦•à§à¦²à¦¿à¦• à¦•à¦°à§à¦¨à¥¤', price: '$3.00 USD', captureAction: 'â€œà¦¸à¦‚à¦¶à§‹à¦§à¦¨ à¦•à¦°à¦¤à§‡ à¦•à§à¦²à¦¿à¦• à¦•à¦°à§à¦¨â€', answerAction: 'â€œà¦‰à¦¤à§à¦¤à¦° à¦ªà¦¾à¦¨â€', paymentButton: "à¦…à¦°à§à¦¥à¦ªà§à¦°à¦¦à¦¾à¦¨ à¦•à¦°à¦¤à§‡ à¦à¦–à¦¾à¦¨à§‡ à¦•à§à¦²à¦¿à¦• à¦•à¦°à§à¦¨", loadingCheckout: "à¦…à¦¨à§à¦—à§à¦°à¦¹ à¦•à¦°à§‡ à¦…à¦ªà§‡à¦•à§à¦·à¦¾ à¦•à¦°à§à¦¨, à¦šà§‡à¦•à¦†à¦‰à¦Ÿ à¦¤à§ˆà¦°à¦¿ à¦¹à¦šà§à¦›à§‡...", checkoutError: "à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦²à¦¿à¦™à§à¦• à¦¤à§ˆà¦°à¦¿à¦¤à§‡ à¦¤à§à¦°à§à¦Ÿà¦¿à¥¤", paymentCheck: "à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦…à¦¨à§à¦®à§‹à¦¦à¦¿à¦¤! à¦ªà§à¦¨à¦ƒà¦¨à¦¿à¦°à§à¦¦à§‡à¦¶à¦¿à¦¤ à¦¹à¦šà§à¦›à§‡...", paymentCheckError: "à¦†à¦ªà¦¨à¦¾à¦° à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦¯à¦¾à¦šà¦¾à¦‡ à¦•à¦°à¦¤à§‡ à¦à¦•à¦Ÿà¦¿ à¦¸à¦®à¦¸à§à¦¯à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡à¥¤ à¦…à¦¨à§à¦—à§à¦°à¦¹ à¦•à¦°à§‡ à¦ªà§ƒà¦·à§à¦ à¦¾à¦Ÿà¦¿ à¦ªà§à¦¨à¦°à¦¾à¦¯à¦¼ à¦²à§‹à¦¡ à¦•à¦°à§à¦¨à¥¤" },
            "ar": { pageTitle: "Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø§Øª Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªØ¨Ø§Ø±Ùƒ!", headline: "ğŸ”’ ÙˆØµÙˆÙ„ Ù„Ù…Ø¯Ø© Ø£Ø³Ø¨ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯Ù‚Ù‚ Ø§Ù„Ù„ØºÙˆÙŠ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", subheadline: 'Ù‚Ù… Ø¨Ø¯ÙØ¹ <strong>{price}</strong> Ù„ÙØªØ­ Ø§Ù„ÙˆØµÙˆÙ„. Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹ØŒ Ø¹Ø¯ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù…Ù†Ø­ Ø¥Ø°Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§. ÙˆØ¬Ù‡ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù†Ø­Ùˆ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©ØŒ Ø§Ù†Ù‚Ø± ÙÙˆÙ‚ <strong>{captureAction}</strong> Ø«Ù… <strong>{answerAction}</strong>.', price: '$3.00 USD', captureAction: 'â€œØ§Ù†Ù‚Ø± Ù„Ù„ØªØµØ­ÙŠØ­â€', answerAction: 'â€œØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø©â€', paymentButton: "Ø§Ù†Ù‚Ø± Ù‡Ù†Ø§ Ù„Ù„Ø¯ÙØ¹", loadingCheckout: "ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±ØŒ Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø®Ø±ÙˆØ¬...", checkoutError: "Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙØ¹.", paymentCheck: "ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹! Ø¬Ø§Ø±Ù Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡...", paymentCheckError: "Ø­Ø¯Ø«Øª Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¯ÙØ¹ØªÙƒ. ÙŠØ±Ø¬Ù‰ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©." }
        };

        function getLanguageCode() {
            const supportedLangs = ["pt-br", "en", "es", "it", "fr", "ru", "ja", "ko", "zh", "de", "hi", "fil", "sv", "pl", "bn", "ar"];
            const userLang = (navigator.language || navigator.userLanguage).toLowerCase();
            if (supportedLangs.includes(userLang)) return userLang;
            const primaryLang = userLang.split('-')[0];
            if (supportedLangs.includes(primaryLang)) return primaryLang;
            return 'en';
        }

        function setLanguage(langCode) {
            document.documentElement.lang = langCode;
            const dictionary = translations[langCode] || translations['en'];
            const priceText = dictionary.price;
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                let text = dictionary[key] || `[${key}]`;
                if (key === 'subheadline') { text = text.replace('{price}', priceText).replace('{captureAction}', dictionary.captureAction).replace('{answerAction}', dictionary.answerAction); }
                if (element.tagName === 'TITLE' || element.tagName === 'STRONG') { element.textContent = text; } 
                else { element.innerHTML = text; }
            });
        }
        
        function main() {
            try {
                document.body.classList.remove('hidden-on-load');
                
                const APP_PAGE = "/app.html";
                function getSessionId() { let sid = localStorage.getItem("mp_session_id"); if (!sid) { sid = crypto.randomUUID(); localStorage.setItem("mp_session_id", sid); } return sid; }
                function hasValidAccess() { const t = localStorage.getItem('accessToken'); if (!t) return false; try { return Date.now() < JSON.parse(t).expiry; } catch (e) { return false; } }
                function setAccessAndRedirect() { const expiry = Date.now() + 604800000; localStorage.setItem("accessToken", JSON.stringify({ expiry })); window.location.href = APP_PAGE; }

                if (hasValidAccess()) {
                    window.location.href = APP_PAGE;
                    return;
                }

                const langCode = getLanguageCode();
                const currency = (langCode === 'pt-br') ? 'BRL' : 'USD';
                const dictionary = translations[langCode] || translations['en'];
                
                setLanguage(langCode);

                const urlParams = new URLSearchParams(window.location.search);
                const stripeSessionId = urlParams.get('session_id');

                if (stripeSessionId) {
                    const welcomeView = document.getElementById('welcome-view');
                    welcomeView.innerHTML = `<h2>${dictionary.paymentCheck}</h2>`;
                    setTimeout(setAccessAndRedirect, 1500);
                } else {
                    document.getElementById('start-btn').addEventListener('click', async () => {
                        const btn = document.getElementById('start-btn');
                        btn.disabled = true;
                        btn.textContent = dictionary.loadingCheckout;
                        
                        const payload = { sessionId: getSessionId(), email: "user@example.com", currency, langCode: langCode };

                        try {
                            const res = await fetch("/api/create-payment", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(payload) });
                            if (!res.ok) { const err = await res.json(); throw new Error(err.details || dictionary.checkoutError); }
                            const data = await res.json();
                            window.location.href = data.checkoutUrl;
                        } catch (error) {
                            alert(error.message);
                            btn.disabled = false;
                            btn.textContent = dictionary.paymentButton;
                        }
                    });
                }
            } catch (error) {
                console.error("Erro crÃ­tico:", error);
                document.body.innerHTML = `<div style="color: white; padding: 20px; text-align: center;"><h1>Error</h1><p>${error.message}</p></div>`;
            }
        }

        main();
    </script>
</body>
</html>
